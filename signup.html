<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Create Account ‚Äî KharchaSaathi</title>

<style>
  body{
    margin:0;
    font-family:Poppins,Arial,sans-serif;
    background:#f2f2f2;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }

  .card{
    background:white;
    padding:28px;
    width:320px;
    border-radius:14px;
    box-shadow:0 6px 30px rgba(0,0,0,0.15);
    border:2px solid #ddd; /* better border */
  }

  h2{
    margin:0 0 16px;
    color:#ff7a00;
    text-align:center;
  }

  input{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    border:1.8px solid #ccc;
    font-size:15px;
  }

  .pass-wrap{
    position:relative;
  }

  .pass-wrap .eye{
    position:absolute;
    right:12px;
    top:50%;
    transform:translateY(-50%);
    cursor:pointer;
    font-size:18px;
    color:#888;
  }

  button{
    width:100%;
    padding:10px;
    background:#28a745;
    color:white;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
    margin-top:10px;
  }

  button:hover{
    background:#1f8b39;
  }

  .login-link{
    margin-top:12px;
    font-size:14px;
    text-align:center;
  }

  .login-link a{
    color:#ff7a00;
    text-decoration:none;
  }

</style>
</head>

<body>

<div class="card">
  <h2>Create Account</h2>

  <input id="email" type="email" placeholder="Email">

  <div class="pass-wrap">
    <input id="password" type="password" placeholder="Password (min 6 chars)">
    <span class="eye" id="pwEye">üëÅÔ∏è</span>
  </div>

  <button id="signupBtn">Create Account</button>

  <div class="login-link">
    Already have an account? <a href="login.html">Login</a>
  </div>
</div>

<script>
  // Password show/hide
  document.getElementById("pwEye").addEventListener("click", () => {
    const pw = document.getElementById("password");
    pw.type = pw.type === "password" ? "text" : "password";
  });

  // Sign Up
  document.getElementById("signupBtn").addEventListener("click", async ()=>{

    const email = document.getElementById("email").value.trim();
    const pass  = document.getElementById("password").value.trim();

    if(!email || !pass){
      alert("Enter email & password");
      return;
    }

    if(pass.length < 6){
      alert("Password must be at least 6 characters");
      return;
    }

    try{
      const userCred = await window.fsSignUp(email, pass);
      alert("Account created successfully!");

      localStorage.setItem("ks-user-email", email);

      // -------- Correct Redirect --------
      window.location.href = "/tools/business-dashboard.html";
      // ----------------------------------

    }catch(err){
      alert("Signup failed: " + err.message);
    }
  });
</script>

<!-- Firebase Core -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>

<!-- Firebase Auth -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>

<!-- Your firebase.js -->
<script src="/js/firebase.js"></script>

</body>
</html>
