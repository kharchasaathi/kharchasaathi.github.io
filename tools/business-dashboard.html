<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ“¦ KharchaSaathi â€” Business Dashboard (Stable)</title>
<meta name="theme-color" content="#ff7a00">
<style>
:root{
  --orange:#ff7a00; --orange-dark:#cc6300;
  --bg:#f8f9fa; --card:#fff; --text:#222;
  --dark-bg:#0f0f0f; --dark-card:#1b1b1b; --dark-text:#f2f2f2;
  --dark-border:#444;
}
*{box-sizing:border-box;transition:background .2s,color .2s}
html,body{height:100%}
body{
  font-family:Poppins,Arial,sans-serif;
  margin:0;padding:18px;
  background:var(--bg);color:var(--text);
}
body.dark{background:var(--dark-bg);color:var(--dark-text)}
h1{color:var(--orange);margin:0;font-size:20px}
.topbar{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:14px}
.theme-btn,.small-btn{
  background:var(--orange);color:#fff;border:none;
  padding:8px 10px;border-radius:8px;cursor:pointer;transition:.15s;
}
.theme-btn:hover,.small-btn:hover{background:var(--orange-dark)}
.tabs{display:flex;gap:8px;margin:6px 0 18px;justify-content:center;flex-wrap:wrap}
.tab{
  background:#eee;padding:8px 12px;border-radius:10px;
  cursor:pointer;font-weight:600;transition:.15s;
}
body.dark .tab{background:#222;color:#ccc}
.tab.active{background:var(--orange);color:#fff}
.container{max-width:1100px;margin:0 auto}
.section{
  display:none;background:var(--card);padding:14px;
  border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06);
  margin-bottom:18px;
}
.section.active{display:block}
body.dark .section{
  background:var(--dark-card);
  border:1px solid var(--dark-border);
  color:var(--dark-text);
}
.footer-btns{text-align:center;margin-top:20px}
.footer-btns a{
  background:var(--orange);color:#fff;padding:10px 16px;
  border-radius:8px;text-decoration:none;margin:6px;display:inline-block;
}
.footer-btns a:hover{background:var(--orange-dark)}
.help-modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);
  display:none;justify-content:center;align-items:center;
  z-index:1000;
}
.help-content{
  background:var(--card);padding:20px;max-width:640px;
  border-radius:12px;color:var(--text);
  overflow-y:auto;max-height:85vh;
}
body.dark .help-content{background:var(--dark-card);color:var(--dark-text)}
input,select,button{font-family:inherit}
</style>
</head>

<body>
<div class="container">
  <div class="topbar">
    <h1>ğŸ“¦ KharchaSaathi (Offline)</h1>
    <div style="display:flex;gap:8px;align-items:center">
      <button class="theme-btn" id="themeBtn" aria-label="Toggle theme">ğŸŒ™</button>
      <a class="small-btn" href="../index.html" style="text-decoration:none;color:#fff">ğŸ  Back</a>
    </div>
  </div>

  <div class="tabs" role="tablist" aria-label="Main tabs">
    <div class="tab active" data-tab="types" role="tab" tabindex="0">ğŸ—‚ Types</div>
    <div class="tab" data-tab="stock" role="tab" tabindex="0">ğŸ“¦ Stock</div>
    <div class="tab" data-tab="sales" role="tab" tabindex="0">ğŸ“ˆ Sales</div>
    <div class="tab" data-tab="wanting" role="tab" tabindex="0">ğŸ›’ Wanting</div>
  </div>

  <!-- Placeholder Sections (filled in later parts) -->
  <section id="types" class="section active"></section>
  <section id="stock" class="section"></section>
  <section id="sales" class="section"></section>
  <section id="wanting" class="section"></section>

  <div class="footer-btns">
    <a href="#" id="helpLink">ğŸ“˜ Help & Guide</a>
  </div>
</div>

<!-- Help Modal -->
<div id="helpModal" class="help-modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="help-content">
    <h2>ğŸ“˜ KharchaSaathi â€” Quick Guide</h2>
    <p>Sections are loaded in parts. Use tabs to switch sections. Theme and preferences are saved locally.</p>
    <button class="small-btn" onclick="toggleHelp()">Close</button>
  </div>
</div>

<script>
/* ğŸŒ™ Theme Toggle */
(function(){
  if(localStorage.getItem('ks-theme')==='dark')
    document.body.classList.add('dark');
  document.getElementById('themeBtn').addEventListener('click',function(){
    document.body.classList.toggle('dark');
    localStorage.setItem('ks-theme',
      document.body.classList.contains('dark') ? 'dark' : 'light');
  });
})();

/* ğŸ—‚ Tabs Handling */
(function(){
  const tabs=document.querySelectorAll('.tab');
  const sections=document.querySelectorAll('.section');
  function activate(tab){
    tabs.forEach(t=>t.classList.remove('active'));
    sections.forEach(s=>s.classList.remove('active'));
    tab.classList.add('active');
    const sec=document.getElementById(tab.dataset.tab);
    if(sec) sec.classList.add('active');
  }
  tabs.forEach(tab=>{
    tab.addEventListener('click',()=>activate(tab));
    tab.addEventListener('keydown',e=>{
      if(['Enter',' '].includes(e.key)){e.preventDefault();activate(tab);}
    });
  });
})();

/* ğŸ“˜ Help Modal */
<!-- Help Modal -->
<div id="helpModal" class="help-modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="help-content">
    <h2>ğŸ“˜ Quick Help</h2>
    <ul style="padding-left:18px;line-height:1.6">
      <li>ğŸ—‚ Add & manage item <b>Types</b></li>
      <li>ğŸ“¦ Add stock, set limits & auto alerts</li>
      <li>ğŸ’° Record sales â€” Cash / Credit</li>
      <li>ğŸ›’ Auto Wanting when stock finishes</li>
      <li>ğŸŒ™ Theme & data saved offline</li>
    </ul>
    <button class="small-btn" onclick="toggleHelp()">Close</button>
  </div>
</div>
</script>
</body>
</html>
