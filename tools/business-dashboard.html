<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ“¦ KharchaSaathi â€” Business Dashboard v6.0</title>
<meta name="theme-color" content="#ff7a00">
<style>
:root{
  --orange:#ff7a00; --orange-dark:#cc6300;
  --bg:#f8f9fa; --card:#fff; --text:#222;
  --dark-bg:#121212; --dark-card:#1e1e1e; --muted:#666;
}
*{box-sizing:border-box}
body{font-family:Poppins,Arial,sans-serif;margin:0;padding:18px;background:var(--bg);color:var(--text);transition:background .3s,color .3s;}
body.dark{background:var(--dark-bg);color:#e8e8e8}
h1{margin:0 0 14px;color:var(--orange);font-size:20px}
.topbar{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px}
.controls{display:flex;gap:8px;align-items:center}
.theme-btn,.small-btn{background:var(--orange);color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
.theme-btn:hover{background:var(--orange-dark)}
.tabs{display:flex;gap:8px;margin:18px 0;flex-wrap:wrap;justify-content:center}
.tab{background:#eee;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
body.dark .tab{background:#2b2b2b}
.tab.active{background:var(--orange);color:#fff}
.section{display:none;background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06);margin-bottom:18px}
body.dark .section{background:var(--dark-card);box-shadow:none}
.section.active{display:block}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
input,select{padding:8px;border-radius:8px;border:1px solid #ccc;min-width:140px}
body.dark input,body.dark select{background:#222;border-color:#333;color:#e8e8e8}
table{width:100%;border-collapse:collapse;margin-top:12px}
th,td{padding:8px;border:1px solid #eee;text-align:center;font-size:13px}
body.dark th,body.dark td{border-color:#333}
th{background:var(--orange);color:#fff}
.sell-btn{background:#00a86b;color:#fff;border:none;padding:5px 8px;border-radius:6px;cursor:pointer}
.sell-btn:hover{background:#007c50}
.credit-btn{background:#007bff;color:#fff;border:none;padding:5px 8px;border-radius:6px;cursor:pointer}
.credit-btn:hover{background:#0056b3}
.tick-btn{background:#00a86b;color:#fff;border:none;padding:5px 8px;border-radius:6px;cursor:pointer}
.tick-btn:hover{background:#007c50}
.footer-btns{text-align:center;margin-top:20px}
.footer-btns a{background:var(--orange);color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;margin:6px;display:inline-block}
.footer-btns a:hover{background:var(--orange-dark)}
.restocked{background:#d4f7d4 !important;color:#090 !important;}
@media(max-width:720px){.row{flex-direction:column;align-items:stretch}table td,table th{font-size:12px}}
/* --- Help Modal Styling --- */
.help-modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;
  z-index:1000;
}
.help-content{
  background:var(--card);
  padding:20px 26px;
  max-width:550px;
  border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,.4);
  color:var(--text);
}
body.dark .help-content{background:var(--dark-card);color:#fff;}
.help-content h2{margin-top:0;color:var(--orange);}
.help-content ul{margin-top:6px;}
.help-content button{background:var(--orange);border:none;padding:8px 14px;color:#fff;border-radius:6px;cursor:pointer;}
.help-content button:hover{background:var(--orange-dark);}
</style>
</head>
<body>

<div class="topbar">
  <div>
    <h1>ğŸ“¦ KharchaSaathi â€” Business Dashboard v6.0</h1>
    <div class="muted">Offline â€¢ Dual Sell â€¢ Credit + Smart Restock + Help Guide</div>
  </div>
  <div class="controls">
    <button class="theme-btn" id="themeBtn">ğŸŒ™</button>
  </div>
</div>

<div class="tabs">
  <div class="tab active" data-tab="types">ğŸ—‚ Types</div>
  <div class="tab" data-tab="stock">ğŸ“¦ Stock</div>
  <div class="tab" data-tab="sales">ğŸ“ˆ Sales</div>
  <div class="tab" data-tab="wanting">ğŸ›’ Wanting</div>
</div>

<!-- SAME sections from your v5.9 (types, stock, sales, wanting) remain unchanged -->

<div class="footer-btns">
  <a href="#" onclick="toggleHelp()">ğŸ“˜ Help</a>
  <a href="../index.html">ğŸ  Back to Home</a>
</div>

<!-- âœ… Smart Help Modal -->
<div id="helpModal" class="help-modal">
  <div class="help-content">
    <h2>ğŸ“˜ KharchaSaathi â€” Quick User Guide</h2>
    <hr>
    <h3>ğŸ—‚ Types Section</h3>
    <ul>
      <li>Add product categories like Mobiles, Chargers, TVs etc.</li>
      <li>These appear in dropdowns for Stock and Wanting pages.</li>
    </ul>

    <h3>ğŸ“¦ Stock Section</h3>
    <ul>
      <li>Add stock using date, type, product, and quantity.</li>
      <li>ğŸ’° <b>Sell</b> = Cash Sale, ğŸ“’ <b>Credit</b> = Khata Sale.</li>
      <li>Remaining updates automatically.</li>
    </ul>

    <h3>ğŸ“ˆ Sales Ledger</h3>
    <ul>
      <li>Tracks every sale automatically.</li>
      <li>â€œCreditâ€ entries can be marked Paid later.</li>
      <li>ğŸ§¹ Use Clear All to reset ledger.</li>
    </ul>

    <h3>ğŸ›’ Wanting List</h3>
    <ul>
      <li>Add items that need to be purchased.</li>
      <li>âœ… Click tick â†’ enter quantity â†’ auto adds to Stock.</li>
      <li>ğŸ–¨ï¸ Print list for supplier orders.</li>
    </ul>

    <h3>ğŸŒ™ Theme</h3>
    <ul><li>Toggle ğŸŒ™/â˜€ï¸ button to switch modes (auto-saves).</li></ul>

    <div style="text-align:right;margin-top:10px;">
      <button onclick="toggleHelp()">Close</button>
    </div>
  </div>
</div>

<script>
/* ğŸ”¹ Existing JavaScript from v5.9 stays same (no change) */
const K_TYPES='item-types',K_STOCK='stock-data',K_SALES='sales-data',K_WANT='wanting-data';
let types=JSON.parse(localStorage.getItem(K_TYPES)||'[]'),
stock=JSON.parse(localStorage.getItem(K_STOCK)||'[]'),
sales=JSON.parse(localStorage.getItem(K_SALES)||'[]'),
want=JSON.parse(localStorage.getItem(K_WANT)||'[]');

function saveAll(){
  localStorage.setItem(K_TYPES,JSON.stringify(types));
  localStorage.setItem(K_STOCK,JSON.stringify(stock));
  localStorage.setItem(K_SALES,JSON.stringify(sales));
  localStorage.setItem(K_WANT,JSON.stringify(want));
}

/* ğŸ†• Replace old openHelp() with toggleHelp() */
function toggleHelp(){
  const modal=document.getElementById('helpModal');
  modal.style.display=(modal.style.display==='flex')?'none':'flex';
}

/* ... rest of JS same as your v5.9 ... */
</script>
</body>
</html>
