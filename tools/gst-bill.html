<!DOCTYPE html>
<html lang="en">
<head>

<!-- Dark Mode -->
<style>
body.dark { background:#121212; color:#e8e8e8; }
body.dark .card { background:#1e1e1e; border-color:#555; }
body.dark input, body.dark textarea { background:#222; border-color:#666; color:#eee; }
body.dark table, body.dark th, body.dark td { background:#222; border-color:#666; color:#eee; }
body.dark a.btn, body.dark button.btn { background:#444; }
body.dark a.btn:hover, body.dark button.btn:hover { background:#666; }
.theme-toggle{
  position:fixed; top:12px; right:12px;
  background:#ff8800; color:#fff; border:none;
  padding:8px 12px; border-radius:6px; font-size:14px; z-index:9999;
}
</style>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GST Calculator & Optional Invoice ‚Äî KharchaSaathi</title>

<style>
body{ font-family:Arial, sans-serif; background:#FAFAFA; margin:0; padding:24px; text-align:center; }
.wrap{ max-width:780px; margin:auto; }
.card{ background:#fff; border:1px solid #ddd; padding:18px; border-radius:12px; text-align:left; box-shadow:0 2px 8px rgba(0,0,0,.06); }
h1{ font-size:32px; font-weight:800; margin-bottom:18px; }

label{ display:block; margin-top:10px; font-weight:600; }
input, textarea{
  width:100%; padding:10px; margin-top:6px; border-radius:10px;
  border:1px solid #aaa; font-size:16px;
}
.btn{
  display:inline-block; padding:10px 18px; border-radius:8px; border:none;
  cursor:pointer; background:#ff7a00; color:white; font-weight:600; margin-top:16px; transition:.25s;
}
.btn:hover{ background:#cc6300; transform:translateY(-2px); }

table{ width:100%; border-collapse:collapse; margin-top:18px; }
th,td{ border:1px solid #ccc; padding:10px; text-align:center; }
#invoiceBox{ display:none; margin-top:24px; }
</style>
</head>

<body>

<button class="theme-toggle" onclick="toggleTheme()">üåô</button>

<div class="wrap">
<h1>üìÑ GST Reverse Calculator</h1>

<div class="card">

<label>Total Price (With GST)</label>
<input id="total" type="number" placeholder="e.g., 1180">

<label>GST Percentage (%)</label>
<input id="gst" type="number" placeholder="e.g., 18">

<button class="btn" onclick="calculate()">Calculate</button>

<div id="result"></div>

<button class="btn" style="display:none;" id="showInvoice" onclick="showInvoice()">üßæ Generate Invoice (Optional)</button>

<div id="invoiceBox">
<hr>
<h3>üîπ Invoice Details (Optional)</h3>

<label>Shop Name (optional)</label>
<input id="shop">

<label>Address (optional)</label>
<textarea id="address"></textarea>

<label>GST Number (optional)</label>
<input id="gstin">

<label>Customer Name (optional)</label>
<input id="customer">

<label>Item Name (optional)</label>
<input id="item">

<button class="btn" onclick="print()">Download / Print Invoice</button>
<button class="btn" onclick="share()">Share via WhatsApp</button>
</div>

</div>

<p style="margin-top:20px;">
<a class="btn" href="../index.html">‚Üê Back to Home</a>
</p>

</div>

<script>
function calculate(){
 let total = parseFloat(document.getElementById("total").value);
 let gst = parseFloat(document.getElementById("gst").value);

 if(!total || !gst){ alert("Enter total price and GST %"); return; }

 let base = total / (1 + (gst/100));
 let sgst = (base * (gst/2)/100);
 let cgst = (base * (gst/2)/100);

 document.getElementById("result").innerHTML = `
 <table>
 <tr><th>Base Price</th><td>‚Çπ ${base.toFixed(2)}</td></tr>
 <tr><th>SGST (${(gst/2)}%)</th><td>‚Çπ ${sgst.toFixed(2)}</td></tr>
 <tr><th>CGST (${(gst/2)}%)</th><td>‚Çπ ${cgst.toFixed(2)}</td></tr>
 <tr><th>Total</th><td><b>‚Çπ ${total.toFixed(2)}</b></td></tr>
 </table>`;

 document.getElementById("showInvoice").style.display="block";
}

function showInvoice(){ document.getElementById("invoiceBox").style.display="block"; }

function share(){
 let msg = `Invoice:
${document.getElementById("shop").value}
${document.getElementById("address").value}

Customer: ${document.getElementById("customer").value}
Item: ${document.getElementById("item").value}`;
 window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
}

(function(){
 const t=localStorage.getItem('ks-theme');
 if(t==='dark'){document.body.classList.add('dark');document.querySelector('.theme-toggle').textContent='‚òÄÔ∏è';}
})();
function toggleTheme(){
 const d=document.body.classList.toggle('dark');
 localStorage.setItem('ks-theme',d?'dark':'light');
 document.querySelector('.theme-toggle').textContent=d?'‚òÄÔ∏è':'üåô';
}
</script>

</body>
</html>
